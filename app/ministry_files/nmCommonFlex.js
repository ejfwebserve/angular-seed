// nmFlex.js
nmFlex=function(){addSuccessAlert=function(a,b){void 0===b&&(b=6E3);$("#admin_notifications").fadeIn(250);var d=$('<li class="success">'+a+"</li>").insertAfter("#admin_notifications li:last-child");setTimeout(function(){hideNotification(d)},b)};addErrorAlert=function(a){$("#admin_notifications").fadeIn(250);var b=$('<li class="error">'+a+'<span class="close_notification">x</span></li>').insertAfter("#admin_notifications li:last-child");setTimeout(function(){hideNotification(b)},1E4)};hideNotification=
function(a){$($(a)).slideUp(250,function(){$($(a)).remove();2>$("#admin_notifications > li").length&&$("#admin_notifications").fadeOut(250)})};closeAllNotifications=function(){$("#admin_notifications").hide();$("#admin_notifications li.success").remove();$("#admin_notifications li.error").remove()};var c={};showHideElementInit=function(a,b){c[a]=b};enhancedShowElement=function(a,b){"undefined"===typeof c[a]&&(c[a]=!1);0==c[a]?(c[a]=!0,2==arguments.length?$("#"+a).css("opacity",0).slideDown(800).animate({opacity:1},
{queue:!1,duration:800,complete:function(a){b()}}):$("#"+a).css("opacity",0).slideDown(800).animate({opacity:1},{queue:!1,duration:800})):2==arguments.length&&b()};enhancedHideElement=function(a,b){"undefined"===typeof c[a]&&(c[a]=!0);1==c[a]?(c[a]=!1,2==arguments.length?$("#"+a).css("opacity",1).slideUp(600).animate({opacity:0},{queue:!1,duration:600,complete:function(a){b()}}):$("#"+a).css("opacity",1).slideUp(600).animate({opacity:0},{queue:!1,duration:600})):2==arguments.length&&b()};simpleShowElement=
function(a,b){"undefined"===typeof c[a]&&(c[a]=!1);0==c[a]?(c[a]=!0,2==arguments.length?($("#"+a).show(),b()):$("#"+a).show()):2==arguments.length&&b()};simpleHideElement=function(a,b){"undefined"===typeof c[a]&&(c[a]=!0);1==c[a]?(c[a]=!1,2==arguments.length?($("#"+a).hide(),b()):$("#"+a).hide()):2==arguments.length&&b()};classOnHover=function(a,b,d){$(a).hover(function(){$(this).removeClass(d).addClass(b)},function(){$(this).removeClass(b).addClass(d)})};initBackToTop=function(){$(document).height();
$("html").append('<div class="back-to-top"></div>');$(window).scroll(function(){300<$(window).scrollTop()?$(".back-to-top").fadeIn(150):$(".back-to-top").fadeOut(150)});$(".back-to-top").on("click",function(){$("html, body").animate({scrollTop:0},500);return!1})};fluidVideo=function(){$("iframe[src*='vimeo.com'], iframe[src*='youtube.com'], iframe[src*='youtube-nocookie.com'], iframe[src*='ustream.tv'], iframe[src*='yourstreamlive.com'], iframe[src*='facebook.com']").each(function(){var a=$(this).width(),
b=-1!==$(this).attr("src").indexOf("facebook.com")?"100%":"56.25%",a=560>a?560:a;"video-container"!=$(this).closest("div").attr("class")&&$(this).removeAttr("height").removeAttr("width").wrap('<div class="video-container-outer" />').wrap('<div class="video-container" />');var d=$(this).attr("src");-1==$(this).attr("src").indexOf("?")?-1==$(this).attr("src").indexOf("?wmode=transparent")&&$(this).attr("src",d+"?wmode=transparent"):-1==$(this).attr("src").indexOf("&wmode=transparent")&&$(this).attr("src",
d+"&wmode=transparent");$(this).closest("div.video-container-outer").css({"max-width":a,margin:"0 auto"});$(this).closest("div.video-container").css({height:0,width:"100%","max-width":"100%",overflow:"hidden",position:"relative","padding-bottom":b,"z-index":1});$(this).css({height:"100%",width:"100%",position:"absolute",top:0,left:0,"z-index":1})});$("#marquee > div.video-container").css({position:"absolute"})};fluidImages=function(a,b,d){$(a+","+b+","+d).find("table img").attr("data-noresize","true");
$(a+","+b+","+d).find("img").each(function(){$(this).attr("data-noresize")?$(this).css({"max-width":"inherit",height:"inherit"}):$(this).not(".iconlink")&&$(this).css({"max-width":"100%",height:"auto"})})};$.easing.easeOutCubic=function(a,b,d,e,c){return e*((b=b/c-1)*b*b+1)+d};smoothScroll=function(){var a,b=!0,d;$("*").filter(function(){if("auto"===$(this).css("overflow")||"auto"===$(this).css("overflow-y"))a=$(this).addClass("overflow_elements")});void 0!=a&&$(a).hover(function(){b=!1;d=$(this)},
function(){b=!0;d=""});$("html,body").mousewheel(function(a){var c=150<a.deltaFactor?150:a.deltaFactor,e=a.deltaY,f=$(window).scrollTop(),k=$(d).scrollTop(),f=f-3*c*e,c=k-3*c*e;b?$("html,body").stop().animate({scrollTop:f},750,"easeOutCubic"):$(d).stop().animate({scrollTop:c},750,"easeOutCubic");a.preventDefault&&a.preventDefault();a.returnValue=!1})};ieScrollFix=function(){$("html,body").mousewheel(function(a){var b=a.deltaY,b=$(window).scrollTop()-60*b;$("html,body").stop().animate({scrollTop:b},
0,"easeOutCubic");a.preventDefault&&a.preventDefault();a.returnValue=!1})};initDesktopTooltip=function(){$(".fe_helptip").hover(function(a){var b=$(this).find("div").outerWidth(),d=$(this).find("div").outerHeight(),c=$(window).width(),g=$(window).height(),h=c-a.clientX-(b+15),f=g-a.clientY-(d+15);c-a.clientX<=b+15?$(this).find("div").css({left:h}):$(this).find("div").css({left:"20px"});g-a.clientY<=d+15?$(this).find("div").css({top:f}):$(this).find("div").css({top:0});$(this).find("div").css({display:"block"})},
function(){$(this).find("div").css({display:"none"})})};initMobileTooltip=function(){$("input:not([type=checkbox],[type=radio]), select, textarea").prev("label").attr("for","");$(".fe_helptip").addClass("mobile_tooltip");document.addEventListener("touchend",function(a){$(a.srcElement).hasClass("fe_helptip_active")&&($(a.srcElement).hide(),a.preventDefault());if("SPAN"!=a.srcElement.tagName)$(".fe_helptip").find("div").hide();else if(0==$(a.srcElement).parent().hasClass("fe_helptip"))$(".fe_helptip").find("div").hide();
else{var b=$(a.srcElement).parent().find("div");0!=b.length&&(b.show().addClass("fe_helptip_active"),a.preventDefault())}},!1)};showStaticBackground=function(a){$("."+a+"_container").attr("style","background-image: url("+designSection[a].background.image+"); background-position: "+designSection[a].background.position+"; background-repeat: "+designSection[a].background.repeat+"; background-size: "+designSection[a].background.size+";")};hideStaticBackground=function(a){$("."+a+"_container").attr("style",
"")};showParallaxFixedBackground=function(a){$("."+a+"_container").attr("style","background-image: url("+designSection[a].background.image+"); background-position: "+designSection[a].background.position+"; background-repeat: "+designSection[a].background.repeat+"; background-size: "+designSection[a].background.size+"; background-attachment: fixed;")};addAnimationClass=function(a){1==$(a).visible(!0)?$(a).addClass("animateAfterLoad"):$(a).addClass("animateOnScroll")};stickyNav=function(a,b,d){var c=
$(a).outerHeight(),g=$(a).offset().top;$(b).outerHeight();var h=$(window).scrollTop(),f=$("#alert_bar").outerHeight();d?($(".navbar_container").clone().prependTo(b).addClass("navbar_hidden").hide(),h>=g&&$(".navbar_hidden").addClass("navbar_sticky"),$(window).on("scroll",function(){$(window).scrollTop()>=g+c?$(".navbar_hidden").show().addClass("navbar_sticky"):$(".navbar_hidden").hide().removeClass("navbar_sticky")})):(h>=g&&($(a).addClass("navbar_sticky").css({top:f}),$("#alert_bar").addClass("alert_bar_fixed"),
c=$(a).outerHeight(),$(b).addClass("header_sticky").css({"margin-top":c})),$(window).on("scroll",function(){$(window).scrollTop()>=g?($(a).addClass("navbar_sticky"),$(b).addClass("header_sticky").css({"margin-top":c})):($(a).removeClass("navbar_sticky"),$(b).removeClass("header_sticky").css({"margin-top":0}))}))};footerFitter=function(){var a=$(window).outerHeight(),b=$("#container").outerHeight(),c=$(".footer_container").outerHeight();"100%"==$("#container").css("max-width")&&$(".footer_container").css({"min-height":a-
b+c})};menuOverflow=function(a){var b=$(a).find(".navbar_group"),c=$(a).find(".menu"),e=$(a).find(".site_search_open"),g=$(a).find(".campus_selector"),h=$(a).find(".translate_open");a=$(a).find(".nav_button_navpanel");var f=b.outerWidth(),k=c.outerWidth(),e=e.outerWidth()+g.outerWidth()+h.outerWidth();nmFlex.origMenuWidth+20>f-e&&0!=k?b.addClass("js_menu_reduction"):b.removeClass("js_menu_reduction");k=c.outerWidth();k+5>f-e&&0!=k?(c.css({position:"absolute",left:"-9999em"}),a.show()):(c.css({position:"static",
left:"auto"}),a.hide())};unCryptMailto=function(a){for(var b,c="",e=0;e<a.length;e++)b=a.charCodeAt(e),8364<=b&&(b=128),c+=String.fromCharCode(b-1);return c};linkTo_UnCryptMailto=function(a){window.location.href=unCryptMailto(a)};isRetinaDevice=function(){return 1<window.devicePixelRatio||window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)").matches?!0:!1};return{addSuccessAlert:addSuccessAlert,addErrorAlert:addErrorAlert,
hideNotification:hideNotification,closeAllNotifications:closeAllNotifications,showDelay:800,hideDelay:600,showHideElementInit:showHideElementInit,enhancedShowElement:enhancedShowElement,enhancedHideElement:enhancedHideElement,simpleShowElement:simpleShowElement,simpleHideElement:simpleHideElement,classOnHover:classOnHover,initBackToTop:initBackToTop,fluidVideo:fluidVideo,fluidImages:fluidImages,smoothScroll:smoothScroll,ieScrollFix:ieScrollFix,initDesktopTooltip:initDesktopTooltip,initMobileTooltip:initMobileTooltip,
showStaticBackground:showStaticBackground,hideStaticBackground:hideStaticBackground,showParallaxFixedBackground:showParallaxFixedBackground,addAnimationClass:addAnimationClass,stickyNav:stickyNav,footerFitter:footerFitter,menuOverflow:menuOverflow,unCryptMailto:unCryptMailto,linkTo_UnCryptMailto:linkTo_UnCryptMailto,isRetinaDevice:isRetinaDevice}}();

// NMValidate_full.js
nmValidate=function(){validEmailAddress=function(a){if(254<a.length||-1!==a.indexOf("mailto:")||-1===a.indexOf("@"))return!1;a=a.split("@");return 2!==a.length||0===a[0].length||" "==a[0].substr(0,1)||" "==a[0].substr(-1,1)||!1===validDomain(a[1])?!1:!0};validDomain=function(a){a=a.split(".");var c=a.length-1;if(1>c)return!1;for(var b=0;b<c;b++)if(0==a[b].length||63<a[b].length||"-"==a[b].substr(0,1)||"-"==a[b].substr(-1,1)||!/^[-a-zA-Z0-9]{1,63}$/gi.test(a[b]))return!1;a=a[c];return 2>a.length||
63<a.length||null===a.match(/^[-a-zA-Z0-9]{2,63}$/)||"-"==a.substr(0,1)||"-"==a.substr(-1,1)||null!==a.match(/^[0-9]{1,63}$/)?!1:!0};return{validEmailAddress:validEmailAddress,validDomain:validDomain}}();

// navbar_flex.js
$(function(){$(".menu li").on("mouseenter mouseleave",function(){if($("ul",this).length){var a=$("ul",this),b=a.offset().left,a=a.width(),c=$(window).width();b+a<=c?$(this).removeClass("edge"):$(this).addClass("edge")}})});
$(window).load(function(){function a(){$(".nav_button_navpanel").removeClass("nav_button_navpanel_active");$(".off_canvas_nav").removeClass("off_canvas_nav_open");$(".off_canvas_nav_mask").removeClass("off_canvas_mask_open");$("body").css({position:"static"})}$("body").prepend('<div class="off_canvas_nav" aria-hidden="true"><ul class="off_canvas_menu"><li><div class="off_canvas_nav_close"></div></li><div id="responsiveMenu">'+leftSideNav+'</div></ul></div><div class="off_canvas_nav_mask"></div>');
$(".off_canvas_nav a").siblings("ul").parent().children("a").append('<span class="off_canvas_menu_expand">Open</span>').append('<span class="off_canvas_menu_close">Close</span>');$(".off_canvas_menu_close").hide();$("#responsiveMenu").on("click",".off_canvas_menu_expand",function(){$(this).closest("li").hasClass("firstlevel")&&($(".off_canvas_nav li.firstlevel ul").slideUp(250),$(".off_canvas_menu_close").hide(),$(".off_canvas_menu_expand").show());$(this).parent().siblings("ul").slideDown(250);$(this).hide();
$(this).parent().children(".off_canvas_menu_close").show();return!1});$("#responsiveMenu").on("click",".off_canvas_menu_close",function(){$(this).closest("li").find("ul").slideUp(250);$(this).closest("li").find(".off_canvas_menu_close").hide();$(this).closest("li").find(".off_canvas_menu_expand").show();return!1});$(".nav_button_navpanel").on("click",function(){$(".nav_button_navpanel").hasClass("nav_button_navpanel_active")?($(this).removeClass("nav_button_navpanel_active"),$(".off_canvas_nav").removeClass("off_canvas_nav_open"),
$(".off_canvas_nav_mask").removeClass("off_canvas_mask_open"),$("body").css({position:"static"}),$(".off_canvas_nav li.firstlevel ul").slideUp(250),$(".off_canvas_menu_close").hide(),$(".off_canvas_menu_expand").show()):($(this).addClass("nav_button_navpanel_active"),$(".off_canvas_nav").addClass("off_canvas_nav_open"),$(".off_canvas_nav_mask").addClass("off_canvas_mask_open"),$("body").css({position:"fixed"}))});$(".off_canvas_nav_close, .off_canvas_nav_mask").on("click",function(){a()});$(document).keydown(function(b){27==
b.keyCode&&$(".nav_button_navpanel").hasClass("nav_button_navpanel_active")&&a()});$(".off_canvas_nav a.active").parent().children("ul").slideDown(250);$(".off_canvas_nav a.active").children(".off_canvas_menu_expand").hide();$(".off_canvas_nav a.active").children(".off_canvas_menu_close").show()});

// jquery.requestanimationframe.js
(function(e){function g(){b&&(d(g),e.fx.tick())}for(var b,a=0,c=["webkit","moz"],d=window.requestAnimationFrame,f=window.cancelAnimationFrame;a<c.length&&!d;a++)d=window[c[a]+"RequestAnimationFrame"],f=f||window[c[a]+"CancelAnimationFrame"]||window[c[a]+"CancelRequestAnimationFrame"];d?(window.requestAnimationFrame=d,window.cancelAnimationFrame=f,e.fx.timer=function(a){a()&&e.timers.push(a)&&!b&&(b=!0,g())},e.fx.stop=function(){b=!1}):(window.requestAnimationFrame=function(d,e){var b=(new Date).getTime(),
c=Math.max(0,16-(b-a)),f=window.setTimeout(function(){d(b+c)},c);a=b+c;return f},window.cancelAnimationFrame=function(a){clearTimeout(a)})})(jQuery);

// mousewheel.js
!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})});

// jquery.visible.js
(function(m){var p=m(window);m.fn.visible=function(c,g,e){if(!(1>this.length)){var d=1<this.length?this.eq(0):this,b=d.get(0),h=p.width(),f=p.height();e=e?e:"both";g=!0===g?b.offsetWidth*b.offsetHeight:!0;if("function"===typeof b.getBoundingClientRect){var a=b.getBoundingClientRect(),b=0<=a.top&&a.top<f,d=0<a.bottom&&a.bottom<=f,f=0<=a.left&&a.left<h,a=0<a.right&&a.right<=h,b=c?b||d:b&&d;c=c?f||a:f&&a;if("both"===e)return g&&b&&c;if("vertical"===e)return g&&b;if("horizontal"===e)return g&&c}else{var b=
p.scrollTop(),f=b+f,a=p.scrollLeft(),h=a+h,k=d.offset(),l=k.top,n=l+d.height(),k=k.left,m=k+d.width(),d=!0===c?n:l,l=!0===c?l:n,n=!0===c?m:k;c=!0===c?k:m;if("both"===e)return!!g&&l<=f&&d>=b&&c<=h&&n>=a;if("vertical"===e)return!!g&&l<=f&&d>=b;if("horizontal"===e)return!!g&&c<=h&&n>=a}}}})(jQuery);

// divpeek.js
var elementsToTrack=[".animateOnScroll"],pixelOffset=-24,inClassName="inViewPort",outClassName="outViewPort";jQuery.fn.exists=function(){return 0<this.length};var viewPortHeight=$(window).height(),scrollFromTop=$(window).scrollTop(),scrollFromBottom=parseInt(scrollFromTop)+parseInt(viewPortHeight);
function recalcVars(){viewPortHeight=$(window).height();scrollFromTop=$(window).scrollTop();scrollFromBottom=parseInt(scrollFromTop)+parseInt(viewPortHeight);for(var a=0;a<elementsToTrack.length;a++)$(elementsToTrack[a]).exists()&&$(elementsToTrack[a]).each(function(){checkInViewport(scrollFromBottom,this)})}$(window).resize(function(a){recalcVars()});document.addEventListener("touchmove",ScrollStart,!1);document.addEventListener("scroll",Scroll,!1);function ScrollStart(){recalcVars()}
function Scroll(){recalcVars()}function checkInViewport(a,b){var c=$(b).offset().top;parseInt(a)+parseInt(pixelOffset)>c?$(b).addClass(inClassName).removeClass(outClassName).addClass("hasAnimated"):$(b).removeClass(inClassName).addClass(outClassName)};

// 60fps.js
// CREATES BUG IN IE9/10
//document.addEventListener("DOMContentLoaded",function(){var b=document.createElement("div"),h=document.body,c=b.style,d=!1,g,e=!1,f={x:0,y:0};c.cssText="-webkit-transform: translate3d(0,0,0);transform: translate3d(0,0,0);position: fixed;top: 0;right: 0;left: 0;bottom: 0;opacity: 0;z-index: 2147483647;pointer-events: none";h.appendChild(b);window.addEventListener("scroll",function(){d||(c.pointerEvents="auto",d=!0);clearTimeout(g);g=setTimeout(function(){c.pointerEvents="none";d=!1;e&&(e=!1)},20)},!1);document.addEventListener("click",function(a){a.target!==b||a.synthetic||(f.x=a.clientX,f.y=a.clientY,e=!0)},!1)},!1);

// parallax.js
(function(d,g,h,k){function b(a,c){var f=this;"object"==typeof c&&(delete c.refresh,delete c.render,d.extend(this,c));this.$element=d(a);!this.imageSrc&&this.$element.is("img")&&(this.imageSrc=this.$element.attr("src"));var e=(this.position+"").toLowerCase().match(/\S+/g)||[];1>e.length&&e.push("center");1==e.length&&e.push(e[0]);if("top"==e[0]||"bottom"==e[0]||"left"==e[1]||"right"==e[1])e=[e[1],e[0]];this.positionX!=k&&(e[0]=this.positionX.toLowerCase());this.positionY!=k&&(e[1]=this.positionY.toLowerCase());
f.positionX=e[0];f.positionY=e[1];"left"!=this.positionX&&"right"!=this.positionX&&(isNaN(parseInt(this.positionX))?this.positionX="center":this.positionX=parseInt(this.positionX));"top"!=this.positionY&&"bottom"!=this.positionY&&(isNaN(parseInt(this.positionY))?this.positionY="center":this.positionY=parseInt(this.positionY));this.position=this.positionX+(isNaN(this.positionX)?"":"px")+" "+this.positionY+(isNaN(this.positionY)?"":"px");if(navigator.userAgent.match(/(iPod|iPhone|iPad)/))return this.iosFix&&
!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;if(navigator.userAgent.match(/(Android)/))return this.androidFix&&!this.$element.is("img")&&this.$element.css({backgroundImage:"url("+this.imageSrc+")",backgroundSize:"cover",backgroundPosition:this.position}),this;this.$mirror=d("<div />").prependTo("body");this.$slider=d("<img />").prependTo(this.$mirror);this.$mirror.addClass("parallax-mirror").addClass(this.mirrorClass).css({visibility:"hidden",
zIndex:this.zIndex,position:"fixed",top:0,left:0,overflow:"hidden"});this.$slider.addClass("parallax-slider").one("load",function(){f.naturalHeight&&f.naturalWidth||(f.naturalHeight=this.naturalHeight||this.height||1,f.naturalWidth=this.naturalWidth||this.width||1);f.aspectRatio=f.naturalWidth/f.naturalHeight;b.isSetup||b.setup();b.sliders.push(f);b.isFresh=!1;b.requestRender()});this.$slider[0].src=this.imageSrc;(this.naturalHeight&&this.naturalWidth||this.$slider[0].complete)&&this.$slider.trigger("load")}
(function(){for(var a=0,c=["ms","moz","webkit","o"],b=0;b<c.length&&!g.requestAnimationFrame;++b)g.requestAnimationFrame=g[c[b]+"RequestAnimationFrame"],g.cancelAnimationFrame=g[c[b]+"CancelAnimationFrame"]||g[c[b]+"CancelRequestAnimationFrame"];g.requestAnimationFrame||(g.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),f=g.setTimeout(function(){b(c+d)},d);a=c+d;return f});g.cancelAnimationFrame||(g.cancelAnimationFrame=function(a){clearTimeout(a)})})();d.extend(b.prototype,
{speed:.2,bleed:0,mirrorClass:"",zIndex:-100,iosFix:!0,androidFix:!0,position:"center",overScrollFix:!1,refresh:function(){this.boxWidth=this.$element.outerWidth();this.boxHeight=this.$element.outerHeight()+2*this.bleed;this.boxOffsetTop=this.$element.offset().top-this.bleed;this.boxOffsetLeft=this.$element.offset().left;this.boxOffsetBottom=this.boxOffsetTop+this.boxHeight;var a=b.winHeight,c=Math.min(this.boxOffsetTop,b.docHeight-a),a=Math.max(this.boxOffsetTop+this.boxHeight-a,0),a=this.boxHeight+
(c-a)*(1-this.speed)|0,c=(this.boxOffsetTop-c)*(1-this.speed)|0;a*this.aspectRatio>=this.boxWidth?(this.imageWidth=a*this.aspectRatio|0,this.imageHeight=a,this.offsetBaseTop=c,a=this.imageWidth-this.boxWidth,"left"==this.positionX?this.offsetLeft=0:"right"==this.positionX?this.offsetLeft=-a:isNaN(this.positionX)?this.offsetLeft=-a/2|0:this.offsetLeft=Math.max(this.positionX,-a)):(this.imageWidth=this.boxWidth,this.imageHeight=this.boxWidth/this.aspectRatio|0,this.offsetLeft=0,a=this.imageHeight-a,
"top"==this.positionY?this.offsetBaseTop=c:"bottom"==this.positionY?this.offsetBaseTop=c-a:isNaN(this.positionY)?this.offsetBaseTop=c-a/2|0:this.offsetBaseTop=c+Math.max(this.positionY,-a))},render:function(){var a=b.scrollTop,c=b.scrollLeft,d=this.overScrollFix?b.overScroll:0,e=a+b.winHeight;this.visibility=this.boxOffsetBottom>a&&this.boxOffsetTop<e?"visible":"hidden";this.mirrorTop=this.boxOffsetTop-a;this.mirrorLeft=this.boxOffsetLeft-c;this.offsetTop=this.offsetBaseTop-this.mirrorTop*(1-this.speed);
this.$mirror.css({transform:"translate3d(0px, 0px, 0px)",visibility:this.visibility,top:this.mirrorTop-d,left:this.mirrorLeft,height:this.boxHeight,width:this.boxWidth});this.$slider.css({transform:"translate3d(0px, 0px, 0px)",position:"absolute",top:this.offsetTop,left:this.offsetLeft,height:this.imageHeight,width:this.imageWidth,maxWidth:"none"})}});d.extend(b,{scrollTop:0,scrollLeft:0,winHeight:0,winWidth:0,docHeight:1073741824,docWidth:1073741824,sliders:[],isReady:!1,isFresh:!1,isBusy:!1,setup:function(){if(!this.isReady){var a=
d(h),c=d(g);c.on("resize.px.parallax load.px.parallax",function(){b.winHeight=c.height();b.winWidth=c.width();b.docHeight=a.height();b.docWidth=a.width();b.isFresh=!1;b.requestRender()}).on("scroll.px.parallax load.px.parallax",function(){var a=b.docHeight-b.winHeight,d=b.docWidth-b.winWidth;b.scrollTop=Math.max(0,Math.min(a,c.scrollTop()));b.scrollLeft=Math.max(0,Math.min(d,c.scrollLeft()));b.overScroll=Math.max(c.scrollTop()-a,Math.min(c.scrollTop(),0));b.requestRender()});this.isReady=!0}},configure:function(a){"object"==
typeof a&&(delete a.refresh,delete a.render,d.extend(this.prototype,a))},refresh:function(){d.each(this.sliders,function(){this.refresh()});this.isFresh=!0},render:function(){this.isFresh||this.refresh();d.each(this.sliders,function(){this.render()})},requestRender:function(){var a=this;this.isBusy||(this.isBusy=!0,g.requestAnimationFrame(function(){a.render();a.isBusy=!1}))}});var l=d.fn.parallax;d.fn.parallax=function(a){return this.each(function(){var c=d(this),f="object"==typeof a&&a;this==g||
this==h||c.is("body")?b.configure(f):c.data("px.parallax")||(f=d.extend({},c.data(),f),c.data("px.parallax",new b(this,f)));if("string"==typeof a)b[a]()})};d.fn.parallax.Constructor=b;d.fn.parallax.noConflict=function(){d.fn.parallax=l;return this};d(h).on("ready.px.parallax.data-api",function(){d('[data-parallax="scroll"]').parallax()})})(jQuery,window,document);

// masonry.js
!function(a){function b(){}function c(a){function c(b){b.prototype.option||(b.prototype.option=function(b){a.isPlainObject(b)&&(this.options=a.extend(!0,this.options,b))})}function e(b,c){a.fn[b]=function(e){if("string"==typeof e){for(var g=d.call(arguments,1),h=0,i=this.length;i>h;h++){var j=this[h],k=a.data(j,b);if(k)if(a.isFunction(k[e])&&"_"!==e.charAt(0)){var l=k[e].apply(k,g);if(void 0!==l)return l}else f("no such method '"+e+"' for "+b+" instance");else f("cannot call methods on "+b+" prior to initialization; attempted to call '"+e+"'")}return this}return this.each(function(){var d=a.data(this,b);d?(d.option(e),d._init()):(d=new c(this,e),a.data(this,b,d))})}}if(a){var f="undefined"==typeof console?b:function(a){console.error(a)};return a.bridget=function(a,b){c(b),e(a,b)},a.bridget}}var d=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],c):c(a.jQuery)}(window),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):"object"==typeof exports?module.exports=f:a.eventie=f}(this),function(a){function b(a){"function"==typeof a&&(b.isReady?a():f.push(a))}function c(a){var c="readystatechange"===a.type&&"complete"!==e.readyState;if(!b.isReady&&!c){b.isReady=!0;for(var d=0,g=f.length;g>d;d++){var h=f[d];h()}}}function d(d){return d.bind(e,"DOMContentLoaded",c),d.bind(e,"readystatechange",c),d.bind(a,"load",c),b}var e=a.document,f=[];b.isReady=!1,"function"==typeof define&&define.amd?(b.isReady="function"==typeof requirejs,define("doc-ready/doc-ready",["eventie/eventie"],d)):a.docReady=d(a.eventie)}(this),function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if(a instanceof RegExp){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;b<a.length;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;b<a.length;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if(a instanceof RegExp)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}.call(this),function(a){function b(a){if(a){if("string"==typeof d[a])return a;a=a.charAt(0).toUpperCase()+a.slice(1);for(var b,e=0,f=c.length;f>e;e++)if(b=c[e]+a,"string"==typeof d[b])return b}}var c="Webkit Moz ms Ms O".split(" "),d=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return b}):"object"==typeof exports?module.exports=b:a.getStyleProperty=b}(window),function(a){function b(a){var b=parseFloat(a),c=-1===a.indexOf("%")&&!isNaN(b);return c&&b}function c(){for(var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},b=0,c=g.length;c>b;b++){var d=g[b];a[d]=0}return a}function d(a){function d(a){if("string"==typeof a&&(a=document.querySelector(a)),a&&"object"==typeof a&&a.nodeType){var d=f(a);if("none"===d.display)return c();var e={};e.width=a.offsetWidth,e.height=a.offsetHeight;for(var k=e.isBorderBox=!(!j||!d[j]||"border-box"!==d[j]),l=0,m=g.length;m>l;l++){var n=g[l],o=d[n];o=h(a,o);var p=parseFloat(o);e[n]=isNaN(p)?0:p}var q=e.paddingLeft+e.paddingRight,r=e.paddingTop+e.paddingBottom,s=e.marginLeft+e.marginRight,t=e.marginTop+e.marginBottom,u=e.borderLeftWidth+e.borderRightWidth,v=e.borderTopWidth+e.borderBottomWidth,w=k&&i,x=b(d.width);x!==!1&&(e.width=x+(w?0:q+u));var y=b(d.height);return y!==!1&&(e.height=y+(w?0:r+v)),e.innerWidth=e.width-(q+u),e.innerHeight=e.height-(r+v),e.outerWidth=e.width+s,e.outerHeight=e.height+t,e}}function h(a,b){if(e||-1===b.indexOf("%"))return b;var c=a.style,d=c.left,f=a.runtimeStyle,g=f&&f.left;return g&&(f.left=a.currentStyle.left),c.left=b,b=c.pixelLeft,c.left=d,g&&(f.left=g),b}var i,j=a("boxSizing");return function(){if(j){var a=document.createElement("div");a.style.width="200px",a.style.padding="1px 2px 3px 4px",a.style.borderStyle="solid",a.style.borderWidth="1px 2px 3px 4px",a.style[j]="border-box";var c=document.body||document.documentElement;c.appendChild(a);var d=f(a);i=200===b(d.width),c.removeChild(a)}}(),d}var e=a.getComputedStyle,f=e?function(a){return e(a,null)}:function(a){return a.currentStyle},g=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],d):"object"==typeof exports?module.exports=d(require("get-style-property")):a.getSize=d(a.getStyleProperty)}(window),function(a,b){function c(a,b){return a[h](b)}function d(a){if(!a.parentNode){var b=document.createDocumentFragment();b.appendChild(a)}}function e(a,b){d(a);for(var c=a.parentNode.querySelectorAll(b),e=0,f=c.length;f>e;e++)if(c[e]===a)return!0;return!1}function f(a,b){return d(a),c(a,b)}var g,h=function(){if(b.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],c=0,d=a.length;d>c;c++){var e=a[c],f=e+"MatchesSelector";if(b[f])return f}}();if(h){var i=document.createElement("div"),j=c(i,"div");g=j?c:f}else g=e;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return g}):window.matchesSelector=g}(this,Element.prototype),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){for(var b in a)return!1;return b=null,!0}function d(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function e(a,e,f){function h(a,b){a&&(this.element=a,this.layout=b,this.position={x:0,y:0},this._create())}var i=f("transition"),j=f("transform"),k=i&&j,l=!!f("perspective"),m={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[i],n=["transform","transition","transitionDuration","transitionProperty"],o=function(){for(var a={},b=0,c=n.length;c>b;b++){var d=n[b],e=f(d);e&&e!==d&&(a[d]=e)}return a}();b(h.prototype,a.prototype),h.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},h.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},h.prototype.getSize=function(){this.size=e(this.element)},h.prototype.css=function(a){var b=this.element.style;for(var c in a){var d=o[c]||c;b[d]=a[c]}},h.prototype.getPosition=function(){var a=g(this.element),b=this.layout.options,c=b.isOriginLeft,d=b.isOriginTop,e=parseInt(a[c?"left":"right"],10),f=parseInt(a[d?"top":"bottom"],10);e=isNaN(e)?0:e,f=isNaN(f)?0:f;var h=this.layout.size;e-=c?h.paddingLeft:h.paddingRight,f-=d?h.paddingTop:h.paddingBottom,this.position.x=e,this.position.y=f},h.prototype.layoutPosition=function(){var a=this.layout.size,b=this.layout.options,c={};b.isOriginLeft?(c.left=this.position.x+a.paddingLeft+"px",c.right=""):(c.right=this.position.x+a.paddingRight+"px",c.left=""),b.isOriginTop?(c.top=this.position.y+a.paddingTop+"px",c.bottom=""):(c.bottom=this.position.y+a.paddingBottom+"px",c.top=""),this.css(c),this.emitEvent("layout",[this])};var p=l?function(a,b){return"translate3d("+a+"px, "+b+"px, 0)"}:function(a,b){return"translate("+a+"px, "+b+"px)"};h.prototype._transitionTo=function(a,b){this.getPosition();var c=this.position.x,d=this.position.y,e=parseInt(a,10),f=parseInt(b,10),g=e===this.position.x&&f===this.position.y;if(this.setPosition(a,b),g&&!this.isTransitioning)return void this.layoutPosition();var h=a-c,i=b-d,j={},k=this.layout.options;h=k.isOriginLeft?h:-h,i=k.isOriginTop?i:-i,j.transform=p(h,i),this.transition({to:j,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},h.prototype.goTo=function(a,b){this.setPosition(a,b),this.layoutPosition()},h.prototype.moveTo=k?h.prototype._transitionTo:h.prototype.goTo,h.prototype.setPosition=function(a,b){this.position.x=parseInt(a,10),this.position.y=parseInt(b,10)},h.prototype._nonTransition=function(a){this.css(a.to),a.isCleaning&&this._removeStyles(a.to);for(var b in a.onTransitionEnd)a.onTransitionEnd[b].call(this)},h.prototype._transition=function(a){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(a);var b=this._transn;for(var c in a.onTransitionEnd)b.onEnd[c]=a.onTransitionEnd[c];for(c in a.to)b.ingProperties[c]=!0,a.isCleaning&&(b.clean[c]=!0);if(a.from){this.css(a.from);var d=this.element.offsetHeight;d=null}this.enableTransition(a.to),this.css(a.to),this.isTransitioning=!0};var q=j&&d(j)+",opacity";h.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:q,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(m,this,!1))},h.prototype.transition=h.prototype[i?"_transition":"_nonTransition"],h.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)},h.prototype.onotransitionend=function(a){this.ontransitionend(a)};var r={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};h.prototype.ontransitionend=function(a){if(a.target===this.element){var b=this._transn,d=r[a.propertyName]||a.propertyName;if(delete b.ingProperties[d],c(b.ingProperties)&&this.disableTransition(),d in b.clean&&(this.element.style[a.propertyName]="",delete b.clean[d]),d in b.onEnd){var e=b.onEnd[d];e.call(this),delete b.onEnd[d]}this.emitEvent("transitionEnd",[this])}},h.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(m,this,!1),this.isTransitioning=!1},h.prototype._removeStyles=function(a){var b={};for(var c in a)b[c]="";this.css(b)};var s={transitionProperty:"",transitionDuration:""};return h.prototype.removeTransitionStyles=function(){this.css(s)},h.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},h.prototype.remove=function(){if(!i||!parseFloat(this.layout.options.transitionDuration))return void this.removeElem();var a=this;this.on("transitionEnd",function(){return a.removeElem(),!0}),this.hide()},h.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var a=this.layout.options;this.transition({from:a.hiddenStyle,to:a.visibleStyle,isCleaning:!0})},h.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var a=this.layout.options;this.transition({from:a.visibleStyle,to:a.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},h.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},h}var f=a.getComputedStyle,g=f?function(a){return f(a,null)}:function(a){return a.currentStyle};"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],e):(a.Outlayer={},a.Outlayer.Item=e(a.EventEmitter,a.getSize,a.getStyleProperty))}(window),function(a){function b(a,b){for(var c in b)a[c]=b[c];return a}function c(a){return"[object Array]"===l.call(a)}function d(a){var b=[];if(c(a))b=a;else if(a&&"number"==typeof a.length)for(var d=0,e=a.length;e>d;d++)b.push(a[d]);else b.push(a);return b}function e(a,b){var c=n(b,a);-1!==c&&b.splice(c,1)}function f(a){return a.replace(/(.)([A-Z])/g,function(a,b,c){return b+"-"+c}).toLowerCase()}function g(c,g,l,n,o,p){function q(a,c){if("string"==typeof a&&(a=h.querySelector(a)),!a||!m(a))return void(i&&i.error("Bad "+this.constructor.namespace+" element: "+a));this.element=a,this.options=b({},this.constructor.defaults),this.option(c);var d=++r;this.element.outlayerGUID=d,s[d]=this,this._create(),this.options.isInitLayout&&this.layout()}var r=0,s={};return q.namespace="outlayer",q.Item=p,q.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},b(q.prototype,l.prototype),q.prototype.option=function(a){b(this.options,a)},q.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),b(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},q.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},q.prototype._itemize=function(a){for(var b=this._filterFindItemElements(a),c=this.constructor.Item,d=[],e=0,f=b.length;f>e;e++){var g=b[e],h=new c(g,this);d.push(h)}return d},q.prototype._filterFindItemElements=function(a){a=d(a);for(var b=this.options.itemSelector,c=[],e=0,f=a.length;f>e;e++){var g=a[e];if(m(g))if(b){o(g,b)&&c.push(g);for(var h=g.querySelectorAll(b),i=0,j=h.length;j>i;i++)c.push(h[i])}else c.push(g)}return c},q.prototype.getItemElements=function(){for(var a=[],b=0,c=this.items.length;c>b;b++)a.push(this.items[b].element);return a},q.prototype.layout=function(){this._resetLayout(),this._manageStamps();var a=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a),this._isLayoutInited=!0},q.prototype._init=q.prototype.layout,q.prototype._resetLayout=function(){this.getSize()},q.prototype.getSize=function(){this.size=n(this.element)},q.prototype._getMeasurement=function(a,b){var c,d=this.options[a];d?("string"==typeof d?c=this.element.querySelector(d):m(d)&&(c=d),this[a]=c?n(c)[b]:d):this[a]=0},q.prototype.layoutItems=function(a,b){a=this._getItemsForLayout(a),this._layoutItems(a,b),this._postLayout()},q.prototype._getItemsForLayout=function(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c];e.isIgnored||b.push(e)}return b},q.prototype._layoutItems=function(a,b){function c(){d.emitEvent("layoutComplete",[d,a])}var d=this;if(!a||!a.length)return void c();this._itemsOn(a,"layout",c);for(var e=[],f=0,g=a.length;g>f;f++){var h=a[f],i=this._getItemLayoutPosition(h);i.item=h,i.isInstant=b||h.isLayoutInstant,e.push(i)}this._processLayoutQueue(e)},q.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},q.prototype._processLayoutQueue=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b];this._positionItem(d.item,d.x,d.y,d.isInstant)}},q.prototype._positionItem=function(a,b,c,d){d?a.goTo(b,c):a.moveTo(b,c)},q.prototype._postLayout=function(){this.resizeContainer()},q.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var a=this._getContainerSize();a&&(this._setContainerMeasure(a.width,!0),this._setContainerMeasure(a.height,!1))}},q.prototype._getContainerSize=k,q.prototype._setContainerMeasure=function(a,b){if(void 0!==a){var c=this.size;c.isBorderBox&&(a+=b?c.paddingLeft+c.paddingRight+c.borderLeftWidth+c.borderRightWidth:c.paddingBottom+c.paddingTop+c.borderTopWidth+c.borderBottomWidth),a=Math.max(a,0),this.element.style[b?"width":"height"]=a+"px"}},q.prototype._itemsOn=function(a,b,c){function d(){return e++,e===f&&c.call(g),!0}for(var e=0,f=a.length,g=this,h=0,i=a.length;i>h;h++){var j=a[h];j.on(b,d)}},q.prototype.ignore=function(a){var b=this.getItem(a);b&&(b.isIgnored=!0)},q.prototype.unignore=function(a){var b=this.getItem(a);b&&delete b.isIgnored},q.prototype.stamp=function(a){if(a=this._find(a)){this.stamps=this.stamps.concat(a);for(var b=0,c=a.length;c>b;b++){var d=a[b];this.ignore(d)}}},q.prototype.unstamp=function(a){if(a=this._find(a))for(var b=0,c=a.length;c>b;b++){var d=a[b];e(d,this.stamps),this.unignore(d)}},q.prototype._find=function(a){return a?("string"==typeof a&&(a=this.element.querySelectorAll(a)),a=d(a)):void 0},q.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var a=0,b=this.stamps.length;b>a;a++){var c=this.stamps[a];this._manageStamp(c)}}},q.prototype._getBoundingRect=function(){var a=this.element.getBoundingClientRect(),b=this.size;this._boundingRect={left:a.left+b.paddingLeft+b.borderLeftWidth,top:a.top+b.paddingTop+b.borderTopWidth,right:a.right-(b.paddingRight+b.borderRightWidth),bottom:a.bottom-(b.paddingBottom+b.borderBottomWidth)}},q.prototype._manageStamp=k,q.prototype._getElementOffset=function(a){var b=a.getBoundingClientRect(),c=this._boundingRect,d=n(a),e={left:b.left-c.left-d.marginLeft,top:b.top-c.top-d.marginTop,right:c.right-b.right-d.marginRight,bottom:c.bottom-b.bottom-d.marginBottom};return e},q.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},q.prototype.bindResize=function(){this.isResizeBound||(c.bind(a,"resize",this),this.isResizeBound=!0)},q.prototype.unbindResize=function(){this.isResizeBound&&c.unbind(a,"resize",this),this.isResizeBound=!1},q.prototype.onresize=function(){function a(){b.resize(),delete b.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var b=this;this.resizeTimeout=setTimeout(a,100)},q.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},q.prototype.needsResizeLayout=function(){var a=n(this.element),b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth},q.prototype.addItems=function(a){var b=this._itemize(a);return b.length&&(this.items=this.items.concat(b)),b},q.prototype.appended=function(a){var b=this.addItems(a);b.length&&(this.layoutItems(b,!0),this.reveal(b))},q.prototype.prepended=function(a){var b=this._itemize(a);if(b.length){var c=this.items.slice(0);this.items=b.concat(c),this._resetLayout(),this._manageStamps(),this.layoutItems(b,!0),this.reveal(b),this.layoutItems(c)}},q.prototype.reveal=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.reveal()}},q.prototype.hide=function(a){var b=a&&a.length;if(b)for(var c=0;b>c;c++){var d=a[c];d.hide()}},q.prototype.getItem=function(a){for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];if(d.element===a)return d}},q.prototype.getItems=function(a){if(a&&a.length){for(var b=[],c=0,d=a.length;d>c;c++){var e=a[c],f=this.getItem(e);f&&b.push(f)}return b}},q.prototype.remove=function(a){a=d(a);var b=this.getItems(a);if(b&&b.length){this._itemsOn(b,"remove",function(){this.emitEvent("removeComplete",[this,b])});for(var c=0,f=b.length;f>c;c++){var g=b[c];g.remove(),e(g,this.items)}}},q.prototype.destroy=function(){var a=this.element.style;a.height="",a.position="",a.width="";for(var b=0,c=this.items.length;c>b;b++){var d=this.items[b];d.destroy()}this.unbindResize(),delete this.element.outlayerGUID,j&&j.removeData(this.element,this.constructor.namespace)},q.data=function(a){var b=a&&a.outlayerGUID;return b&&s[b]},q.create=function(a,c){function d(){q.apply(this,arguments)}return Object.create?d.prototype=Object.create(q.prototype):b(d.prototype,q.prototype),d.prototype.constructor=d,d.defaults=b({},q.defaults),b(d.defaults,c),d.prototype.settings={},d.namespace=a,d.data=q.data,d.Item=function(){p.apply(this,arguments)},d.Item.prototype=new p,g(function(){for(var b=f(a),c=h.querySelectorAll(".js-"+b),e="data-"+b+"-options",g=0,k=c.length;k>g;g++){var l,m=c[g],n=m.getAttribute(e);try{l=n&&JSON.parse(n)}catch(o){i&&i.error("Error parsing "+e+" on "+m.nodeName.toLowerCase()+(m.id?"#"+m.id:"")+": "+o);continue}var p=new d(m,l);j&&j.data(m,a,p)}}),j&&j.bridget&&j.bridget(a,d),d},q.Item=p,q}var h=a.document,i=a.console,j=a.jQuery,k=function(){},l=Object.prototype.toString,m="object"==typeof HTMLElement?function(a){return a instanceof HTMLElement}:function(a){return a&&"object"==typeof a&&1===a.nodeType&&"string"==typeof a.nodeName},n=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1};"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],g):a.Outlayer=g(a.eventie,a.docReady,a.EventEmitter,a.getSize,a.matchesSelector,a.Outlayer.Item)}(window),function(a){function b(a,b){var d=a.create("masonry");return d.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0);this.maxY=0},d.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],c=a&&a.element;this.columnWidth=c&&b(c).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},d.prototype.getContainerWidth=function(){var a=this.options.isFitWidth?this.element.parentNode:this.element,c=b(a);this.containerWidth=c&&c.innerWidth},d.prototype._getItemLayoutPosition=function(a){a.getSize();var b=a.size.outerWidth%this.columnWidth,d=b&&1>b?"round":"ceil",e=Math[d](a.size.outerWidth/this.columnWidth);e=Math.min(e,this.cols);for(var f=this._getColGroup(e),g=Math.min.apply(Math,f),h=c(f,g),i={x:this.columnWidth*h,y:g},j=g+a.size.outerHeight,k=this.cols+1-f.length,l=0;k>l;l++)this.colYs[h+l]=j;return i},d.prototype._getColGroup=function(a){if(2>a)return this.colYs;for(var b=[],c=this.cols+1-a,d=0;c>d;d++){var e=this.colYs.slice(d,d+a);b[d]=Math.max.apply(Math,e)}return b},d.prototype._manageStamp=function(a){var c=b(a),d=this._getElementOffset(a),e=this.options.isOriginLeft?d.left:d.right,f=e+c.outerWidth,g=Math.floor(e/this.columnWidth);g=Math.max(0,g);var h=Math.floor(f/this.columnWidth);h-=f%this.columnWidth?0:1,h=Math.min(this.cols-1,h);for(var i=(this.options.isOriginTop?d.top:d.bottom)+c.outerHeight,j=g;h>=j;j++)this.colYs[j]=Math.max(i,this.colYs[j])},d.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this.options.isFitWidth&&(a.width=this._getContainerFitWidth()),a},d.prototype._getContainerFitWidth=function(){for(var a=0,b=this.cols;--b&&0===this.colYs[b];)a++;return(this.cols-a)*this.columnWidth-this.gutter},d.prototype.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!==this.containerWidth},d}var c=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(e===b)return c}return-1};"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size"],b):a.Masonry=b(a.Outlayer,a.getSize)}(window);